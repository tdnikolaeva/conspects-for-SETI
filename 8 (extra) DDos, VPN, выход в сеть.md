# DDoS, VPN, выход в сеть

## DoS, DDoS

**DoS** (Denial of Service) и **DDoS** (Distributed Denial of Service) — это типы кибератак, направленные на отказ в обслуживании, которые перегружают сервер или сеть, делая их недоступными для пользователей.

![ddos dos](./imgs/ddosdos)



## VPN


## Выход в сеть (Какие процессы есть, когда мы открываем браузер и вводим сайт от начала отправки пакетов до получения ответа?)

Кратко
1. URL-ввод: Пользователь вводит URL.
2. DNS-запрос: Браузер получает IP-адрес сервера.
3. TCP Handshake: Устанавливается TCP-соединение.
4. HTTP-запрос: Браузер отправляет HTTP-запрос (в случае HTTPS, запрос шифруется).
5. Обработка запроса: Сервер обрабатывает запрос.
6. HTTP-ответ: Сервер отправляет HTTP-ответ (в случае HTTPS, ответ шифруется).
7. Обработка ответа: Браузер обрабатывает HTML, CSS, JavaScript.
8. Отображение страницы: Браузер отображает веб-страницу.
9. TCP Connection close: Закрывается соединение.


Долго

Браузер анализирует URL, определяя протокол (например, http или https), имя хоста (www.example.com) и путь (если есть).
Поиск IP-адреса: Браузер не может напрямую связаться с сервером по имени хоста, поэтому он должен сначала получить IP-адрес сервера, соответствующий доменному имени.
* DNS-запрос: Браузер отправляет DNS-запрос на DNS-сервер.
* Локальный DNS-кэш: Сначала браузер проверяет локальный DNS-кэш (кэш операционной системы). Если IP-адрес найден в кэше, этот шаг пропускается.
* Рекурсивный DNS-запрос: Если IP-адрес не найден в кэше, браузер отправляет рекурсивный запрос на DNS-сервер, указанный в настройках вашей сети.
* Последовательность запросов DNS: DNS-сервер может обращаться к другим DNS-серверам (например, корневым, TLD-серверам и authoritative DNS-серверам), чтобы найти нужный IP-адрес.
* DNS-ответ: DNS-сервер возвращает IP-адрес, соответствующий доменному имени.

Установление TCP-соединения (Three-way handshake)
* Инициация соединения: Браузер теперь имеет IP-адрес сервера и готов к установлению TCP-соединения.
* SYN-пакет: Браузер (клиент) отправляет TCP-пакет с установленным флагом SYN на порт 80 (HTTP) или 443 (HTTPS) сервера (целевой порт определяется протоколом).
* SYN-ACK-пакет: Сервер отвечает TCP-пакетом с флагами SYN и ACK (подтверждение SYN).
* ACK-пакет: Браузер отправляет TCP-пакет с флагом ACK, подтверждая получение SYN-ACK.
  Соединение установлено: После этого трехэтапного "рукопожатия" между браузером и сервером установлено надежное TCP-соединение.

Отправка HTTP/HTTPS-запроса
* Формирование запроса: Браузер формирует HTTP-запрос, который содержит:
* Метод (например, GET для получения ресурса, POST для отправки данных).
* URI (Uniform Resource Identifier, путь к запрашиваемому ресурсу, например, /index.html).
* Заголовки (например, Host, User-Agent, Accept, Cookie и другие).
* Отправка запроса: Браузер отправляет HTTP-запрос в виде TCP-пакетов через установленное TCP-соединение.
* Для HTTPS, запрос шифруется с использованием TLS/SSL (Transport Layer Security / Secure Sockets Layer) после установления TCP-соединения, но до отправки HTTP-запроса.
* Шифрование происходит с помощью TLS/SSL handshake, который включает в себя согласование алгоритма шифрования и обмен сертификатами (если сервер предоставляет сертификат).

Обработка запроса на сервере
* Получение запроса: Веб-сервер (например, Apache, Nginx) получает HTTP-запрос от браузера.
* Обработка запроса:
  Веб-сервер анализирует запрос и определяет, какой ресурс требуется.
  Веб-сервер может обращаться к базе данных или другим ресурсам для получения необходимых данных.
  Веб-сервер формирует HTTP-ответ.

Формирование ответа: Веб-сервер формирует HTTP-ответ, который содержит:
* Статус-код (например, 200 OK для успешного запроса, 404 Not Found если ресурс не найден, 500 Internal Server Error).
* Заголовки (например, Content-Type, Content-Length, Date, Server, Set-Cookie).
* Тело ответа (содержимое запрашиваемого ресурса, например, HTML-код веб-страницы, изображение и т.д.).
* Отправка ответа: Веб-сервер отправляет HTTP-ответ в виде TCP-пакетов через установленное TCP-соединение.
* Для HTTPS, ответ также зашифрован с помощью TLS/SSL.

Получение и обработка ответа браузером
* Получение ответа: Браузер получает TCP-пакеты с HTTP-ответом от сервера.
* Разбор ответа: Браузер анализирует HTTP-ответ:
  Проверяет статус-код.
  Разбирает заголовки.
  Получает тело ответа.

Отображение контента: Браузер обрабатывает HTML, CSS, JavaScript, изображения и другие ресурсы, полученные в теле ответа.

Закрытие TCP-соединения (Four-way handshake)
* Инициация закрытия: Одна из сторон (браузер или сервер) отправляет TCP-пакет с установленным флагом FIN, чтобы закрыть соединение.
* Подтверждение закрытия: Другая сторона отвечает TCP-пакетом с установленным флагом ACK (подтверждает получение FIN).
* Отправка FIN: Другая сторона отправляет TCP-пакет с флагом FIN.
* Подтверждение закрытия: Первая сторона отправляет TCP-пакет с флагом ACK, подтверждая получение FIN.
* Соединение закрыто: TCP-соединение закрыто.

